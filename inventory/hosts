##########################################################
# custom host groups

# testbed

[testbed-all]
testbed-manager.osism.local
testbed-node-0.osism.local
testbed-node-1.osism.local
testbed-node-2.osism.local

[testbed-manager]
testbed-manager.osism.local

[testbed-nodes]
testbed-node-0.osism.local
testbed-node-1.osism.local
# NOTE: The node testbed-node-2 is commented to be able to test scaling
#       in the testbed.
# testbed-node-2.osism.local

##########################################################
# environment: manager & infrastructure

[netdata:children]
testbed-all

[cobbler:children]
testbed-manager

[helper:children]
testbed-manager

[manager:children]
testbed-manager

[mirror:children]
testbed-manager

[openstackclient:children]
testbed-manager

[infrastructure:children]
cobbler
helper
manager
mirror
openstackclient

##########################################################
# environment: ceph

[ceph:children]
testbed-nodes

[ceph-control:children]
testbed-nodes

[cephclient:children]
testbed-manager

[ceph-grafana-server:children]
ceph-control

[ceph-mds:children]
ceph-control

[ceph-mgr:children]
ceph-control

[ceph-mon:children]
ceph-control

[ceph-osd:children]
testbed-nodes

[ceph-rgw:children]
testbed-nodes

# NOTE: Use the following groups only if these services are deployed.

[ceph-iscsigw]

[ceph-mds]

[ceph-nfs]

[ceph-rbdmirror]

# NOTE: Subsequent groups necessary for compatibility to ceph-ansible. Don't change it.

[ceph-client]

[grafana-server:children]
ceph-grafana-server

[iscsi-gws:children]
ceph-iscsigw

[mdss:children]
ceph-mds

[mgrs:children]
ceph-mgr

[mons:children]
ceph-mon

[nfss:children]
ceph-nfs

[rgws:children]
ceph-rgw

[rbdmirrors:children]
ceph-rbdmirror

[osds:children]
ceph-osd

##########################################################
# environment: generic

[controller:children]
control
mariadb
rabbitmq
memcached
elasticsearch
kibana

##########################################################
# environment: kolla

[control:children]
testbed-nodes

[compute:children]
testbed-nodes

# NOTE: only required when using Neutron DVR
[inner-compute]

# NOTE: only required when using Neutron DVR
[external-compute]

[network:children]
testbed-nodes

[storage:children]
testbed-nodes

[monitoring:children]
testbed-manager

[grafana:children]
monitoring

[influxdb:children]
monitoring

[kibana:children]
control

[elasticsearch:children]
control

[haproxy:children]
network

[mariadb:children]
control

[rabbitmq:children]
control

[memcached:children]
control

[keystone:children]
control

[glance:children]
control

[nova:children]
control

[neutron:children]
network

[cinder:children]
control

[horizon:children]
control

[heat:children]
control

[tempest:children]
manager

[rally:children]
manager

[placement:children]
control

[panko:children]
control

[gnocchi:children]
storage

[ceilometer:children]
control

[mistral:children]
control

[searchlight:children]
control

[redis:children]
control

[magnum:children]
control

[iscsid:children]
compute
storage
ironic-conductor

[tgtd:children]
storage

[multipathd:children]
compute
storage

[ironic:children]
control

[cloudkitty:children]
control

[skydive:children]
manager

[watcher:children]
control

[aodh:children]
control

[octavia:children]
control

[barbican:children]
control

[swift:children]
control

[manila:children]
control

[designate:children]
control

[etcd:children]
control

[prometheus:children]
monitoring

[zun:children]
control

# glance

[glance-api:children]
glance

[glance-registry:children]
glance

# nova

[nova-api:children]
nova

[nova-conductor:children]
nova

[nova-super-conductor:children]
nova

[nova-consoleauth:children]
nova

[nova-novncproxy:children]
nova

[nova-scheduler:children]
nova

[nova-spicehtml5proxy:children]
nova

[nova-compute-ironic:children]
nova

[nova-serialproxy:children]
nova

# neutron

[neutron-server:children]
control

[neutron-dhcp-agent:children]
network

[neutron-l3-agent:children]
network

[neutron-lbaas-agent:children]
network

[neutron-metadata-agent:children]
network

[neutron-ovn-metadata-agent:children]
compute

[neutron-vpnaas-agent:children]
network

[neutron-bgp-dragent:children]
network

[neutron-infoblox-ipam-agent:children]
network

[ironic-neutron-agent:children]
network

[neutron-metering-agent:children]
neutron

[openvswitch:children]
network
compute
manila-share

# cinder

[cinder-api:children]
cinder

[cinder-backup:children]
storage

[cinder-scheduler:children]
cinder

[cinder-volume:children]
storage

# heat

[heat-api:children]
heat

[heat-api-cfn:children]
heat

[heat-engine:children]
heat

# placement

[placement-api:children]
placement

# panko

[panko-api:children]
panko

# gnocchi

[gnocchi-api:children]
gnocchi

[gnocchi-statsd:children]
gnocchi

[gnocchi-metricd:children]
gnocchi

# ceilometer

[ceilometer-api:children]
ceilometer

[ceilometer-central:children]
ceilometer

[ceilometer-notification:children]
ceilometer

[ceilometer-collector:children]
ceilometer

[ceilometer-compute:children]
compute

[ceilometer-ipmi:children]
compute

# mistral

[mistral-api:children]
mistral

[mistral-executor:children]
mistral

[mistral-engine:children]
mistral

# mongodb

[mongodb:children]
control

# searchlight

[searchlight-api:children]
searchlight

[searchlight-listener:children]
searchlight

# magnum

[magnum-api:children]
magnum

[magnum-conductor:children]
magnum

# ironic

[ironic-api:children]
ironic

[ironic-conductor:children]
ironic

[ironic-inspector:children]
ironic

[ironic-pxe:children]
ironic

# cloudkitty

[cloudkitty-api:children]
cloudkitty

[cloudkitty-processor:children]
cloudkitty

# skydive

[skydive-analyzer:children]
skydive

[skydive-agent:children]
compute
network

# watcher

[watcher-api:children]
watcher

[watcher-engine:children]
watcher

[watcher-applier:children]
watcher

# aodh

[aodh-api:children]
aodh

[aodh-evaluator:children]
aodh

[aodh-listener:children]
aodh

[aodh-notifier:children]
aodh

# octavia

[octavia-api:children]
octavia

[octavia-health-manager:children]
octavia

[octavia-housekeeping:children]
octavia

[octavia-worker:children]
octavia

# barbican

[barbican-api:children]
barbican

[barbican-keystone-listener:children]
barbican

[barbican-worker:children]
barbican

# swift

[swift-proxy-server:children]
swift

[swift-account-server:children]
storage

[swift-container-server:children]
storage

[swift-object-server:children]
storage

# manila

[manila-api:children]
manila

[manila-scheduler:children]
manila

[manila-share:children]
network

[manila-data:children]
manila

# designate

[designate-api:children]
designate

[designate-central:children]
designate

[designate-producer:children]
designate

[designate-mdns:children]
network

[designate-worker:children]
designate

[designate-sink:children]
designate

[designate-backend-bind9:children]
designate

# elasticsearch

[elasticsearch-curator:children]
elasticsearch

# ovn

[ovn-controller:children]
ovn-controller-compute
ovn-controller-network

[ovn-controller-compute:children]
compute

[ovn-controller-network:children]
network

[ovn-database:children]
control

[ovn-northd:children]
ovn-database

[ovn-nb-db:children]
ovn-database

[ovn-sb-db:children]
ovn-database

# prometheus

[prometheus-node-exporter:children]
monitoring
control
compute
network
storage

[prometheus-mysqld-exporter:children]
mariadb

[prometheus-haproxy-exporter:children]
haproxy

[prometheus-memcached-exporter:children]
memcached

[prometheus-cadvisor:children]
monitoring
control
compute
network
storage

[prometheus-alertmanager:children]
monitoring

[prometheus-openstack-exporter:children]
monitoring

[prometheus-elasticsearch-exporter:children]
elasticsearch

[prometheus-blackbox-exporter:children]
monitoring

# zun

[zun-api:children]
zun

[zun-wsproxy:children]
zun

[zun-compute:children]
compute

[zun-cni-daemon:children]
compute
